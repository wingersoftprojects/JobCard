<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        <h:outputStylesheet name="./css/custom.css"/>
        <h:outputStylesheet name="./css/style.css"/>

        <title>JOB CARD</title>
    </h:head>

    <h:body class="pattern">
        <div class="wrapper">
            <div id="content" class="center_content">
                <f:view>
                    <h:form>
                        <p:growl id="messages"/>
                        <p:panel style="background-color: #DCDCDC">
                            <center>
                                <p:graphicImage value="#{company_settingBean.image}" width="200" style=" margin: 0 auto;" cache="false"/>
                                <h:panelGrid style="border-style: none">
                                    <h:outputLabel value="JOB CARD LOGIN" style="font-size :16px; font-weight :bold" />                    
                                </h:panelGrid>
                                <p:panelGrid columns="2">
                                    <p:outputLabel value="Username:" for="username" style="font-weight: bolder;"/>
                                    <p:inputText id="username" value="#{loginBean.username}" title="Username" required="true" requiredMessage="The Username is required"/>
                                    <p:outputLabel value="Password:" for="password" style="font-weight: bolder;"/>
                                    <p:password id="password" value="#{loginBean.password}" title="Password" required="true" requiredMessage="The Password is required"/>
                                </p:panelGrid>                   
                                <p:commandButton value="Login" icon="ui-icon-key" action="#{loginBean.login()}" update="@form"/> 
                            </center>
                        </p:panel>
                    </h:form>
                </f:view>
            </div>            
        </div>
        <h:form>
            <p:idleMonitor timeout="960000">
                <p:ajax event="idle" listener="#{loginBean.redirectifnotloggedin()}" update="@all" oncomplete="logout()"/>
            </p:idleMonitor>
        </h:form>
        <p:ajaxStatus style="display:block;margin-bottom:2em;height:24px;"/>
        <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <p:graphicImage name="/images/ajax-loader.gif" />
        </p:dialog>
    </h:body>

</html>

